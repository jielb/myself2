<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<script src="jquery-1.11.0.js" type="text/javascript" charset="utf-8"></script>
		<style type="text/css">
			body{
				padding: 0;
				margin: 0;
			}
			#box{
				height: 2000px;
				margin: 0 auto;
			}
			#box div{
				width: 300px;
				height: 200px;
				border: 1px solid #cecece;
			}
		</style>
	</head>
	<body>
		<div id="box">
			<div></div>
			<div></div>
			<div></div>
			<div></div>
			<div></div>
			<div></div>
			<div></div>
			<div></div>
		</div>
		<script type="text/javascript">
			$(function(){
				//console.log($("#box div:last").offset().top)
				$(window).scroll(function(){
					var st = document.documentElement.scrollTop || document.body.scrollTop;
					$("#box div").each(function(){
						//console.log($(this).index())
					//	console.log($(this).offset().top)
						if(st > $(this).offset().top - $(this).outerHeight()/2){
							var index = $(this).index()
							console.log(index)
						}
					})
				})
			})
		</script>
	</body>
</html>
