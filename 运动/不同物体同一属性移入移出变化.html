<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
		<style type="text/css">
			body {
				padding: 0;
				margin: 0;
			}
			
			div {
				width: 300px;
				height: 80px;
				background: red;
				margin-bottom: 10px;
			}
		</style>
	</head>

	<body>
		<div></div>
		<div></div>
		<div></div>
		<script type="text/javascript">
			var oDiv = document.getElementsByTagName("div");
			console.log(oDiv.length)
			for(let i = 0; i < oDiv.length; i++) {
				var timer = null;
				oDiv[i].onmouseover = function() {
					clearInterval(oDiv[i].timer);

					var target = 500;

					oDiv[i].timer = setInterval(function() {
						var cur = oDiv[i].offsetWidth;

						var speed = Math.ceil((target - cur) / 8)

						oDiv[i].style.width = cur + speed + "px";

						if(speed == 0) {
							clearInterval(oDiv[i].timer)
						}

					}, 20)

					oDiv[i].onmouseout = function() {
						
						clearInterval(oDiv[i].timer)
						 
						var target = 300;

						oDiv[i].timer = setInterval(function() {
							
							var cur = oDiv[i].offsetWidth;
							
							var speed = Math.floor((target - cur) / 8);
							
							oDiv[i].style.width = cur + speed + "px"

							if(speed == 0) {
								clearInterval(oDiv[i].timer)
							}
						},20)

					}
				}

			}
			
			//为什么this不能使用
		</script>

	</body>

</html>