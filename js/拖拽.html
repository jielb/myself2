<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
	</head>
	<!--<style type="text/css">
		body{
			margin: 0;
			padding: 0;
		}
		#box{
			width: 200px;
			height: 200px;
			background: red;
			cursor: move;
			position: absolute;
		}
	</style>-->
	
	<style type="text/css">
		body{
			margin: 0;
			padding: 0;
		}
		#box{
			width: 600px;
			height: 500px;
			margin: 60px 200px;
			/*position: relative;*/
			border: 1px solid #cecece;
		}
		#btn{
			width: 100px;
			height: 100px;
			background: red;
			position: absolute;
			cursor: move;
		}
		
	</style>
	<body>
		<!--<div id="box"></div>
		<script type="text/javascript">
			box.onmousedown = function(e){
				var evt = e || event;
				var x = evt.pageX - box.offsetLeft;
				var y = evt.pageY - box.offsetTop;
				document.onmousemove = function(e){
					var evt = e || event;
					var _left = evt.clientX - x; 
					var _top = evt.clientY - y;
					if(_left <= 0){
						_left = 0;
					}
					if(_top <= 0){
						_top = 0;
					}
					if(_left >= (document.documentElement.clientWidth - box.offsetWidth)){
						_left = (document.documentElement.clientWidth - box.offsetWidth)
					}
					if(_top >= (document.documentElement.clientHeight - box.offsetHeight)){
						_top = (document.documentElement.clientHeight - box.offsetHeight)
					}
					
					box.style.left = _left + "px";
					box.style.top = _top + "px";
				}
				box.onmouseup = function(){
					document.onmousemove = "" ;
				}
				
			}
		</script>-->
		
		<div id="box">
			<div id="btn"></div>
		</div>
		<script type="text/javascript">
			btn.onmousedown =function(e){
				var evt = e || event;
				var x = evt.clientX - box.offsetLeft;
				var y = evt.clientY - box.offsetTop;
				document.onmousemove = function(e){
					var evt = e || event;
					var _left = evt.clientX - x;
					var _top = evt.clientY - y;
					if(_left <= box.offsetLeft){
						_left = box.offsetLeft;
					}
					if(_top <= box.offsetTop){
						_top = box.offsetTop
					}
					if(_left >= box.offsetLeft + box.offsetWidth - btn.offsetWidth){
						_left = box.offsetLeft + box.offsetWidth - btn.offsetWidth -1
					}
					if(_top >= box.offsetTop + box.offsetHeight - btn.offsetHeight){
						_top = box.offsetTop + box.offsetHeight - btn.offsetHeight
					}
					
					btn.style.left = _left + "px";
					btn.style.top = _top + "px";
				}
				 
			}
			btn.onmouseup = function(){
					document.onmousemove = null;
				}
			

		</script>
		
		
	</body>
	
</html>
